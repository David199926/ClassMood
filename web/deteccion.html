<script defer src="./js/deteccion.js"></script>

<div class="o-session-content">
    <!-- entorno de la camara -->
    <div class="o-video-placeholder">
        <!-- Nombre y grupo de la asignatura -->
        <div class="o-title-detect-container">
            <span class="o-title-detection" id="titleDetection"></span>
            <span class="o-group-detect" id="groupDetection"></span>
        </div>
        <!-- Contenedor de partículas -->
        <div id="particleContainer" class="o-particle-container"></div>
        <!-- indicador de sonido -->
        <div class="o-sound-level-container" style="display: none;">
            <div class="o-sound-level"></div>
            <div class="o-sound-level"></div>
            <div class="o-sound-level"></div>
            <div class="o-sound-level"></div>
            <div class="o-sound-level"></div>
        </div>
        <!-- Captura de video -->
        <img id="videoCapture" class="o-video-capture" src="./src/dummy.png">
        <!-- mensaje could not start video source -->
        <div class="o-external-video-usage" id="oExternalVideoUsage">
            <span>
                Para iniciar el análisis de video asegurate que ninguna aplicación esté utilizando la cámara
            </span>
            <button class="o-btn o-btn-primary" onclick="reload(this)">Recargar</button>
        </div>
    </div>
    <!-- panel donde se agregan todos los botones de control -->
    <div class="o-footer-detection">
        <span id="sessionDuration" class="o-session-time"></span>
        <button class="o-btn o-btn-secundary o-btn-start" id="detectionController" onclick="detectionEvent(this)"
            data-state="stopped" title="Comenzar/Detener detección (ctrl + d)">Comenzar</button>
        <div class="o-config-set">

            <!-- configuracion de camara -->
            <div class="o-devices-config" id="cameraDevices">
                <div class="o-cameradevices-container" id="CdevicesContainer" hidden>
                    <div class="o-header-option"><span>Selecciona una cámara</span></div>
                </div>
                <div class="o-dot-icon-container">
                    <button class="o-btn-config" onclick="camera(this)" data-state="true" id="cameraToggle"
                        title="Activar/Desactivar cámara (ctrl + c)">
                        <img src="./src/Camera.png" class="o-camera-icon" alt="camara icon" id="cameraIcon">
                    </button>
                    <div class="o-dots" id="dispCamera" onclick="toggleCameraDevices()"></div>
                </div>
            </div>

            <!-- configuracion de microfono -->
            <div class="o-devices-config">
                <div class="o-microdevices-container" id="MdevicesContainer" hidden>
                    <div class="o-header-option"><span>Selecciona un micrófono</span></div>
                </div>
                <div class="o-dot-icon-container" id="audioToggle">
                    <button class="o-btn-config" onclick="microphone(this)" data-state="true" id="micToggle"
                        title="Activar/Desactivar micrófono (ctrl + m)">
                        <img src="./src/Microphone.png" class="micro-icon" id="microIcon" alt="micro icon"
                            width="16rem">
                    </button>
                    <div class="o-dots" id="dispMicro" onclick="displayMicroDevices()"></div>
                </div>
            </div>

            <!-- boton donde se despliega la emocion detectada -->
            <button class="o-btn-config o-btn-img" onclick="emotion()" id="emotionControl" data-state='true'>
                <img src="./src/Emotions.png" id="emotionIcon" alt="imagen de la emocion" width="30px"
                    title="mostrar/ocultar emociones detectadas (ctrl + e)">
            </button>
        </div>
    </div>
</div>